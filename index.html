<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Masjid al Salam - Sevelen</title>
    <link rel = "icon" type="image/ico" href="Images/websiteIconSmall.ico">

      <!-- Open Graph meta tags for social sharing -->
  <meta property="og:title" content="Masjid al Salam - Sevelen" />
  <meta property="og:description" content="Besuche unsere Seite f√ºr aktuelle Gebetszeiten und Informationen √ºber die Masjid al Salam in Sevelen." />
  <meta property="og:image" content="https://www.masjidalsalam.ch/Images/websiteIconSmall.png" />
  <meta property="og:url" content="https://www.masjidalsalam.ch" />
  <meta property="og:type" content="website" />
  
  <!-- Optional: Twitter Card meta tags -->
  <!-- <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Masjid al Salam - Sevelen" />
  <meta name="twitter:description" content="Besuche unsere Seite f√ºr aktuelle Gebetszeiten und Informationen." />
  <meta name="twitter:image" content="https://www.swizzonic.ch/Images/websiteIconSmall.png" />
 -->



    <style>
      :root {
        --primary-green: #2e7d32;
        --secondary-green: #388e3c;
        --light-green: #c8e6c9;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #ffffff;
      }

      header {
        background-color: var(--primary-green);
        color: white;
        text-align: center;
        padding: 2rem;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 0 20px;
      }

      .prayer-times {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-bottom: 3rem;
      }

      .card {
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .card h2 {
        color: var(--secondary-green);
        margin-bottom: 1rem;
        border-bottom: 2px solid var(--light-green);
        padding-bottom: 0.5rem;
      }

      .prayer-time-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
      }

      .calendar {
        background-color: var(--light-green);
        padding: 2rem;
        border-radius: 10px;
        margin-top: 2rem;
      }

      footer {
        background-color: var(--primary-green);
        color: white;
        text-align: center;
        padding: 1rem;
        position: fixed;
        bottom: 0;
        width: 100%;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .prayer-times {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Masjid al Salam</h1>
      <p>Sevelen, Schweiz</p>
    </header>

    <div class="container">
      <div class="card">
        <h2>Heutige Gebetszeiten</h2>
        <div class="prayer-times" id="prayerTimes">
          <!-- Dynamic content will be loaded here -->
          <div class="prayer-time-item">
            <span>Fajr:</span>
            <span id="fajr">-:-</span>
          </div>
          <div class="prayer-time-item">
            <span>Dhuhr:</span>
            <span id="dhuhr">-:-</span>
          </div>
          <div class="prayer-time-item">
            <span>Asr:</span>
            <span id="asr">-:-</span>
          </div>
          <div class="prayer-time-item">
            <span>Maghrib:</span>
            <span id="maghrib">-:-</span>
          </div>
          <div class="prayer-time-item">
            <span>Isha:</span>
            <span id="isha">-:-</span>
          </div>
        </div>
      </div>

      <div class="card" style="margin-top: 2rem">
        <h2>Wochenplan</h2>
        <div class="schedule">
          <p>üìÖ Freitagsgebet: 13:30</p>
          <p>üìö Dars: Zwischen Maghrib und Isha (au√üer Sonntags)</p>
          <p>üìñ Quran Unterricht: Sonntags zwischen Maghrib und Isha</p>
        </div>
      </div>
    </div>

    <footer>
      <p>Bahnweg N 31, 9475 Sevelen, Switzerland</p>
      <p>Contact: info@masjidalsalam.ch | Tel: +41 00 00 00 00 00</p>
      <!-- <p>¬© 2023 Masjid al Salam - Sevelen</p> -->
    </footer>

    <script>
      // Helper function to adjust time by offset (in minutes)
      function adjustTime(timeStr, offsetMinutes) {
        const [hours, minutes] = timeStr.split(":").map(Number);
        let totalMinutes = hours * 60 + minutes + offsetMinutes;
        // Normalize in case the adjustment goes past midnight
        totalMinutes = ((totalMinutes % 1440) + 1440) % 1440;
        const newHours = Math.floor(totalMinutes / 60)
          .toString()
          .padStart(2, "0");
        const newMinutes = (totalMinutes % 60).toString().padStart(2, "0");
        return `${newHours}:${newMinutes}`;
      }

      async function fetchPrayerTimes() {
        // Define your city, country, and method (calculation method 12)
        const city = "Chur";
        const country = "Switzerland";
        const method = 12;
        const apiUrl = `https://api.aladhan.com/v1/timingsByCity?city=${city}&country=${country}&method=${method}`;

        // Define individual offsets in minutes for each prayer time
        const offsets = {
          Fajr: -4, // Subtract 4 minutes
          Dhuhr: 1, // Add 1 minutes
          Asr: 2, // Add 2 mins
          Maghrib: 1, // Add 1 min
          Isha: 9, // Add 9 minutes
        };

        try {
          const response = await fetch(apiUrl);
          const data = await response.json();

          // Check if data is valid
          if (data && data.data && data.data.timings) {
            const timings = data.data.timings;
            // Apply individual offsets to each prayer time
            document.getElementById("fajr").textContent = adjustTime(
              timings.Fajr,
              offsets.Fajr
            );
            document.getElementById("dhuhr").textContent = adjustTime(
              timings.Dhuhr,
              offsets.Dhuhr
            );
            document.getElementById("asr").textContent = adjustTime(
              timings.Asr,
              offsets.Asr
            );
            document.getElementById("maghrib").textContent = adjustTime(
              timings.Maghrib,
              offsets.Maghrib
            );
            document.getElementById("isha").textContent = adjustTime(
              timings.Isha,
              offsets.Isha
            );
          } else {
            throw new Error("Prayer times data not available");
          }
        } catch (error) {
          console.error("Error fetching prayer times:", error);
          // Fallback to static times (dummy values)
          document.getElementById("prayerTimes").innerHTML = `
                    <p>‚ö†Ô∏è Live-Zeiten nicht verf√ºgbar.</p>
                    <div class="prayer-time-item"><span>Fajr:</span> --:--</div>
                    <div class="prayer-time-item"><span>Dhuhr:</span> --:--</div>
                    <div class="prayer-time-item"><span>Asr:</span> --:--</div>
                    <div class="prayer-time-item"><span>Maghrib:</span> --:--</div>
                    <div class="prayer-time-item"><span>Isha:</span> --:--</div>
                  `;
        }
      }

      // Fetch prayer times on page load and refresh every hour
      fetchPrayerTimes();
      setInterval(fetchPrayerTimes, 3600000);
    </script>
  </body>
</html>
